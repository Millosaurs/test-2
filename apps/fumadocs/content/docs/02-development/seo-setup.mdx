---
title: SEO Setup & Configuration
description: Complete guide for SEO implementation in the webstore using Next.js 13+ App Router
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Tab, Tabs } from 'fumadocs-ui/components/tabs';

# SEO Setup & Configuration

<Callout type="info">
This guide covers the SEO implementations for the webstore using **Next.js 13+ App Router** native metadata API and optimization strategies for better search engine visibility.
</Callout>

## ‚úÖ Current Implementation Status

The webstore now has a **clean and optimized SEO implementation** following Next.js 13+ App Router best practices.

### üóëÔ∏è What Was Cleaned Up

Following Next.js 13+ App Router best practices, duplicate route handler implementations were removed:

- ‚ùå **Removed**: `/apps/web/src/app/sitemap.xml/route.ts`
- ‚ùå **Removed**: `/apps/web/src/app/robots.txt/route.ts`

**Why removed?** These conflicted with the native Next.js App Router metadata API and created duplicate endpoints.

### ‚úÖ Native Implementation (Recommended)

Following [Next.js documentation](https://nextjs.org/docs/app/api-reference/file-conventions/metadata), the proper native implementations are used:

- ‚úÖ **Active**: `/apps/web/src/app/sitemap.ts` - Native Next.js sitemap
- ‚úÖ **Active**: `/apps/web/src/app/robots.ts` - Native Next.js robots.txt
- ‚úÖ **Enhanced**: `/apps/web/src/lib/metadata.ts` - Comprehensive metadata system

## üöÄ What's Been Implemented

### 1. Native Next.js Sitemap
- **Location**: `/apps/web/src/app/sitemap.ts`
- **Features**:
  - Uses Next.js 13+ App Router native `MetadataRoute.Sitemap` API
  - Automatically generates XML sitemap with all pages
  - Includes static pages (home, categories, support)
  - Dynamically includes all category pages via ORPC
  - Dynamically includes all active product pages via ORPC
  - Proper priority and change frequency settings
  - URL encoding for special characters
  - Robust error handling with static fallback
- **Accessible at**: `https://your-domain.com/sitemap.xml`

### 2. Native Next.js Robots.txt
- **Location**: `/apps/web/src/app/robots.ts`
- **Features**:
  - Uses Next.js 13+ App Router native `MetadataRoute.Robots` API
  - Allows search engines to crawl public content
  - Blocks admin, dashboard, and private areas
  - Configures specific rules for Googlebot
  - References sitemap location automatically
  - Configures crawl delay for better server performance
- **Accessible at**: `https://your-domain.com/robots.txt`

### 3. Enhanced Metadata System
- **Location**: `/apps/web/src/lib/metadata.ts`
- **Features**:
  - Comprehensive meta tags for SEO
  - Open Graph tags for social media sharing
  - Twitter Card support
  - Structured data helpers for rich snippets
  - Canonical URL support
  - Breadcrumb structured data
  - Integration with Next.js 13+ App Router metadata API

## üéØ Benefits of This Approach

1. **Following Best Practices**: Uses official Next.js 13+ App Router metadata API
2. **No Conflicts**: No duplicate endpoints or routing conflicts
3. **Automatic Caching**: Next.js automatically caches these metadata files
4. **Type Safety**: Full TypeScript support with proper types
5. **Zero Configuration**: Works out of the box with proper file naming
6. **Better Performance**: Native implementation is more efficient

## üîß Configuration Required

### 1. Environment Variables

Add these to your `.env.local` file:

```env title=".env.local"
# Your production domain (required for sitemaps and metadata)
NEXT_PUBLIC_DOMAIN=https://your-domain.com

# Server URL for API calls
NEXT_PUBLIC_SERVER_URL=http://localhost:3001
```

### 2. Google Search Console

<Tabs items={['Setup', 'Configuration', 'Monitoring']}>
  <Tab value="Setup">
    1. Verify your website ownership
    2. Submit your sitemap: `https://your-domain.com/sitemap.xml`
    3. Monitor crawling and indexing status
  </Tab>
  <Tab value="Configuration">
    ```typescript title="/apps/web/src/lib/metadata.ts"
    // Update Twitter handle
    creator: "@yourhandle",

    // Add social media URLs
    sameAs: [
      "https://twitter.com/yourhandle",
      "https://facebook.com/yourpage",
      "https://instagram.com/yourhandle",
    ],
    ```
  </Tab>
  <Tab value="Monitoring">
    Monitor these metrics in Google Search Console:
    - Index coverage
    - Search performance
    - Core Web Vitals
    - Mobile usability
  </Tab>
</Tabs>

### 3. Google Analytics & Search Console Verification

Add verification codes in `/apps/web/src/lib/metadata.ts`:

```typescript title="/apps/web/src/lib/metadata.ts"
verification: {
  google: "your-google-verification-code",
  // yandex: "your-yandex-verification-code",
  // yahoo: "your-yahoo-verification-code",
},
```

## üìÑ Page-Specific SEO Implementation

### Using createPageMetadata for Individual Pages

For any page that needs custom SEO metadata:

```typescript title="example-page.tsx"
import { createPageMetadata } from "@/lib/metadata";

export async function generateMetadata(): Promise<Metadata> {
  return createPageMetadata(
    "Page Title",
    "Page description for SEO",
    "https://your-domain.com/page-image.jpg",
    "/page-path"
  );
}
```

### Adding Structured Data to Product Pages

For product pages, add structured data in the page component:

```typescript title="product-page.tsx"
import { generateProductStructuredData } from "@/lib/metadata";

export default function ProductPage({ product }) {
  const structuredData = generateProductStructuredData({
    name: product.name,
    description: product.description,
    price: product.price,
    image: product.image,
    category: product.category.title,
  });

  return (
    <>
      <script
        type="application/ld+json"
        dangerouslySetInnerHTML={{ __html: JSON.stringify(structuredData) }}
      />
      {/* Your page content */}
    </>
  );
}
```

## üéØ SEO Best Practices Implemented

### 1. Technical SEO
- ‚úÖ XML Sitemap generation
- ‚úÖ Robots.txt configuration
- ‚úÖ Canonical URLs
- ‚úÖ Meta descriptions and titles
- ‚úÖ Open Graph tags
- ‚úÖ Twitter Cards
- ‚úÖ Structured data schemas

### 2. Content SEO
- ‚úÖ Proper heading hierarchy (H1, H2, H3)
- ‚úÖ Alt tags for images
- ‚úÖ Descriptive URLs (slug-based)
- ‚úÖ Internal linking structure

### 3. Performance SEO
- ‚úÖ Next.js Image optimization
- ‚úÖ Code splitting and lazy loading
- ‚úÖ Caching headers for static assets

## üîó URLs Generated

Your SEO files are now available at:
- **Sitemap**: `https://your-domain.com/sitemap.xml`
- **Robots**: `https://your-domain.com/robots.txt`

## üõ†Ô∏è Testing Your SEO Implementation

### Local Development Testing

<Tabs items={['Start Server', 'Test Sitemap', 'Test Robots']}>
  <Tab value="Start Server">
    ```bash
    # Start development server
    bun dev
    ```
  </Tab>
  <Tab value="Test Sitemap">
    ```bash
    # Test sitemap locally
    curl http://localhost:3000/sitemap.xml

    # Validate XML format (if xmllint is available)
    xmllint --noout https://your-domain.com/sitemap.xml
    ```
  </Tab>
  <Tab value="Test Robots">
    ```bash
    # Test robots.txt locally
    curl http://localhost:3000/robots.txt
    ```
  </Tab>
</Tabs>

### Production Testing

```bash
# Check if sitemap is accessible
curl https://your-domain.com/sitemap.xml

# Check robots.txt
curl https://your-domain.com/robots.txt
```

### Metadata Validation Tools

- Use Google's Rich Results Test
- Check Open Graph with Facebook Debugger
- Validate Twitter Cards with Twitter Card Validator

## üîç Monitoring and Analytics

### Recommended Tools
- **Google Search Console**: Monitor search performance
- **Google Analytics**: Track user behavior
- **PageSpeed Insights**: Monitor Core Web Vitals
- **GTmetrix**: Performance monitoring
- **Screaming Frog**: Technical SEO auditing

## üöÄ Next Steps for Optimization

### 1. Content Optimization
- [ ] Add unique meta descriptions for each page
- [ ] Optimize product descriptions for target keywords
- [ ] Create category-specific landing pages
- [ ] Add FAQ sections for long-tail keywords

### 2. Technical Improvements
- [ ] Implement schema markup for reviews
- [ ] Add breadcrumb navigation
- [ ] Optimize for Core Web Vitals
- [ ] Set up proper 404 error handling

### 3. Local SEO (if applicable)
- [ ] Add business schema markup
- [ ] Create location-specific pages
- [ ] Optimize for local search terms

## üìã SEO Implementation Checklist

<Callout type="warn">
Complete these steps to finalize your SEO setup:
</Callout>

- [ ] Configure environment variables (`NEXT_PUBLIC_DOMAIN`)
- [ ] Update domain in `metadata.ts`
- [ ] Add social media handles
- [ ] Submit sitemap to Google Search Console
- [ ] Set up Google Analytics
- [ ] Add verification codes
- [ ] Create custom 404 page
- [ ] Optimize images with alt tags
- [ ] Add structured data to key pages
- [ ] Monitor Core Web Vitals
- [ ] Set up performance monitoring

## üìö Additional Resources

- [Google Search Central](https://developers.google.com/search)
- [Next.js SEO Guide](https://nextjs.org/learn/seo/introduction-to-seo)
- [Next.js Sitemap Documentation](https://nextjs.org/docs/app/api-reference/file-conventions/metadata/sitemap)
- [Next.js Robots.txt Documentation](https://nextjs.org/docs/app/api-reference/file-conventions/metadata/robots)
- [Schema.org Documentation](https://schema.org/)
- [Web.dev SEO Guide](https://web.dev/learn/seo/)

---

<Callout type="success">
**‚ú® Your SEO is now properly configured following Next.js 13+ App Router conventions!**

Remember to update the placeholder values (domain, social handles, verification codes) with your actual information before deploying to production.
</Callout>
